{
  "name": "Second Brain - Habit Tracker",
  "description": "Log daily habit completions and streaks",
  "version": "2.0",
  "category": "Health",
  "icon": "checkmark.circle",
  "color": "green",
  "actions": [
    {
      "type": "comment",
      "text": "Second Brain Habit Tracker - Track your daily habits"
    },
    {
      "type": "choose_from_list",
      "prompt": "Which habit?",
      "items": [
        "Morning Exercise",
        "Meditation",
        "Reading",
        "Journaling",
        "Healthy Eating",
        "Water Intake",
        "Sleep 8 Hours",
        "No Social Media",
        "Learn Something New",
        "Custom..."
      ]
    },
    {
      "type": "if",
      "condition": "${chosen_item} equals Custom...",
      "if_true": [
        {
          "type": "text_input",
          "prompt": "Enter habit name:",
          "keyboard_type": "default"
        },
        {
          "type": "set_variable",
          "variable": "habit_name",
          "value": "${text_input}"
        }
      ],
      "if_false": [
        {
          "type": "set_variable",
          "variable": "habit_name",
          "value": "${chosen_item}"
        }
      ]
    },
    {
      "type": "choose_from_list",
      "prompt": "Did you complete this habit today?",
      "items": ["‚úÖ Yes, completed!", "‚ùå Missed today"]
    },
    {
      "type": "if",
      "condition": "${chosen_item} contains ‚úÖ",
      "if_true": [
        {
          "type": "set_variable",
          "variable": "completed",
          "value": true
        }
      ],
      "if_false": [
        {
          "type": "set_variable",
          "variable": "completed",
          "value": false
        }
      ]
    },
    {
      "type": "choose_from_list",
      "prompt": "How do you feel?",
      "items": [
        "üòä Great",
        "üôÇ Good",
        "üòê Okay",
        "üòî Tired",
        "üò§ Frustrated"
      ]
    },
    {
      "type": "set_variable",
      "variable": "mood",
      "value": "${chosen_item}"
    },
    {
      "type": "choose_from_list",
      "prompt": "How difficult was it? (1-5)",
      "items": ["1 - Very Easy", "2 - Easy", "3 - Moderate", "4 - Hard", "5 - Very Hard"]
    },
    {
      "type": "get_numbers_from_text",
      "text": "${chosen_item}"
    },
    {
      "type": "set_variable",
      "variable": "difficulty",
      "value": "${numbers}"
    },
    {
      "type": "text_input",
      "prompt": "Any notes or reflections?",
      "default_text": "",
      "allow_multiline": true,
      "keyboard_type": "default"
    },
    {
      "type": "set_variable",
      "variable": "notes",
      "value": "${text_input}"
    },
    {
      "type": "dictionary",
      "items": {
        "habit_name": "${habit_name}",
        "completed": "${completed}",
        "mood": "${mood}",
        "difficulty": "${difficulty}",
        "notes": "${notes}"
      }
    },
    {
      "type": "web_request",
      "method": "POST",
      "url": "https://YOUR_DOMAIN.com/api/shortcuts/habit-log",
      "headers": {
        "Authorization": "Bearer YOUR_API_TOKEN",
        "Content-Type": "application/json"
      },
      "body": "${dictionary}",
      "request_body_type": "JSON"
    },
    {
      "type": "get_dictionary_value",
      "dictionary": "${web_request_result}",
      "key": "success"
    },
    {
      "type": "if",
      "condition": "${dictionary_value} equals true",
      "if_true": [
        {
          "type": "if",
          "condition": "${completed} equals true",
          "if_true": [
            {
              "type": "show_notification",
              "title": "üéâ Habit Completed!",
              "body": "Great job on ${habit_name}! Keep the streak going!",
              "sound": "default"
            }
          ],
          "if_false": [
            {
              "type": "show_notification",
              "title": "üìù Logged",
              "body": "${habit_name} logged. You'll get it tomorrow!",
              "sound": "default"
            }
          ]
        }
      ],
      "if_false": [
        {
          "type": "show_notification",
          "title": "‚ùå Error",
          "body": "Failed to log habit. Try again.",
          "sound": "default"
        }
      ]
    }
  ],
  "siri_phrase": "Log my habit",
  "automation_suggestions": [
    {
      "type": "time_of_day",
      "time": "21:00",
      "description": "Evening habit review"
    },
    {
      "type": "alarm_dismissed",
      "description": "Morning habit check after waking up"
    }
  ],
  "setup_instructions": [
    "1. Replace YOUR_DOMAIN with your Second Brain URL",
    "2. Replace YOUR_API_TOKEN with your API token",
    "3. Customize habit list with your own habits",
    "4. Create evening automation (9 PM) for daily check-in",
    "5. Add widget to Home Screen for quick access"
  ]
}
