# Database
DB_PATH=./notes.db
DATABASE_URL=sqlite:///./notes.db
# For service-layer modules that read these envs directly
SQLITE_DB=notes.db
SQLITE_VEC_PATH=/absolute/path/to/sqlite-vec0.dylib   # optional; .so on Linux

# Paths
# Obsidian vault (root impl uses VAULT_PATH; services impl uses OBSIDIAN_* envs)
VAULT_PATH=./vault
OBSIDIAN_VAULT_PATH=./vault
OBSIDIAN_PROJECTS_ROOT=Projects
OBSIDIAN_PER_PROJECT=true
AUDIO_DIR=./audio
UPLOADS_DIR=./uploads
WHISPER_CPP_PATH=./whisper.cpp/build/bin/whisper-cli
WHISPER_MODEL_PATH=./whisper.cpp/models/ggml-base.en.bin

# AI Services (LLM)
OLLAMA_API_URL=http://localhost:11434/api/generate
# Recommended lightweight model for local use
OLLAMA_MODEL=phi3:mini
# Optional performance/resource knobs
OLLAMA_NUM_CTX=1024
OLLAMA_NUM_PREDICT=256
OLLAMA_TEMPERATURE=0.2
OLLAMA_TOP_P=0.8
# Set if you want to force CPU (0) or choose GPUs explicitly
# OLLAMA_NUM_GPU=0

# Security
SECRET_KEY=your-super-secret-key-here
WEBHOOK_TOKEN=your-webhook-token

# Discord
DISCORD_BOT_TOKEN=your-discord-bot-token

# Optional Cloud Services
OPENAI_API_KEY=your-openai-key
ANTHROPIC_API_KEY=your-anthropic-key

# Transcriber Settings
# Choose 'vosk' for lightweight CPU-only ASR, or 'whisper' for whisper.cpp
TRANSCRIBER=vosk
# Path to the unpacked Vosk model directory (example below)
# Download from: https://alphacephei.com/vosk/models
# e.g. https://alphacephei.com/vosk/models/vosk-model-small-en-us-0.15.zip
VOSK_MODEL_PATH=/Users/youruser/models/vosk/vosk-model-small-en-us-0.15

# Processing limits
# Increase if you plan larger uploads (bytes)
MAX_FILE_SIZE=209715200   # 200 MB
PROCESSING_CONCURRENCY=1
# Allow more than one whisper job at once (careful on laptops)
TRANSCRIPTION_CONCURRENCY=2
# Split long WAVs to avoid timeouts/CPU spikes (seconds)
TRANSCRIPTION_SEGMENT_SECONDS=600
PROCESSING_TIMEOUT_SECONDS=1800  # 30 minutes

# AI processing controls (to reduce CPU/RAM usage)
AI_PROCESSING_ENABLED=true
AI_CHUNK_SIZE_CHARS=1500
AI_THROTTLE_DELAY_SECONDS=2

# === Magic Link Email Configuration ===
# Enable email service for magic link authentication
EMAIL_ENABLED=false

# Choose email service: resend, sendgrid, mailgun, smtp
EMAIL_SERVICE=resend

# Email service API key (not needed for SMTP)
EMAIL_API_KEY=your_api_key_here

# From email address and name
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Second Brain

# === SMTP Configuration (if using EMAIL_SERVICE=smtp) ===
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# === Free Email Service Setup Instructions ===

# ðŸŽ¯ Resend (Recommended - 3,000 emails/month free)
# 1. Go to https://resend.com/
# 2. Sign up and verify your domain (or use resend.dev for testing)
# 3. Get API key from dashboard
# EMAIL_ENABLED=true
# EMAIL_SERVICE=resend
# EMAIL_API_KEY=re_your_api_key_here
# EMAIL_FROM=noreply@yourdomain.com

# ðŸ“¤ SendGrid (100 emails/day free)
# 1. Go to https://sendgrid.com/
# 2. Sign up and verify sender identity
# 3. Create API key in Settings > API Keys
# EMAIL_ENABLED=true
# EMAIL_SERVICE=sendgrid
# EMAIL_API_KEY=SG.your_api_key_here
# EMAIL_FROM=noreply@yourdomain.com

# ðŸ“® Mailgun (1,000 emails/month for 3 months)
# 1. Go to https://mailgun.com/
# 2. Add and verify your domain
# 3. Get API key from dashboard
# EMAIL_ENABLED=true
# EMAIL_SERVICE=mailgun
# EMAIL_API_KEY=your_mailgun_api_key
# EMAIL_FROM=noreply@yourdomain.com

# ðŸ“¨ Gmail SMTP (Free with your Gmail account)
# 1. Enable 2FA on your Google account
# 2. Create an App Password: https://myaccount.google.com/apppasswords
# 3. Use the app password below
# EMAIL_ENABLED=true
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-16-char-app-password
# EMAIL_FROM=your-email@gmail.com
